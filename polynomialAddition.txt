#include <stdio.h>

struct poly {
    int coeff;
    int expo;
};

int main() {
    int n, m;
    printf("Enter the number of terms of the polynomial x1: ");
    scanf("%d", &n);
    struct poly x1[n];

    printf("Enter values for polynomial x1:\n");
    for (int i = 0; i < n; i++) {
        printf("Coefficient for term %d: ", i + 1);
        scanf("%d", &x1[i].coeff);

        printf("Enter exponent for term %d: ", i + 1);
        scanf("%d", &x1[i].expo);
    }

    printf("Enter the number of terms of the polynomial x2: ");
    scanf("%d", &m);
    struct poly x2[m];

    printf("Enter values for polynomial x2:\n");
    for (int i = 0; i < m; i++) {
        printf("Coefficient for term %d: ", i + 1);
        scanf("%d", &x2[i].coeff);

        printf("Enter exponent for term %d: ", i + 1);
        scanf("%d", &x2[i].expo);
    }

    int resCount = (n > m) ? n : m; 

    struct poly res[resCount];
    int i = 0, j = 0, k = 0;

    // Addition
    while (i < n && j < m) {
        if (x1[i].expo > x2[j].expo) {
            res[k].coeff = x1[i].coeff;
            res[k].expo = x1[i].expo;
            i++;
        } else if (x1[i].expo < x2[j].expo) {
            res[k].coeff = x2[j].coeff;
            res[k].expo = x2[j].expo;
            j++;
        } else {
            res[k].coeff = x1[i].coeff + x2[j].coeff;
            res[k].expo = x1[i].expo;
            i++;
            j++;
        }
        k++;
    }

    // Add remaining terms from x1
    while (i < n) {
        res[k].coeff = x1[i].coeff;
        res[k].expo = x1[i].expo;
        i++;
        k++;
    }

    // Add remaining terms from x2
    while (j < m) {
        res[k].coeff = x2[j].coeff;
        res[k].expo = x2[j].expo;
        j++;
        k++;
    }

    // Printing resultant
    printf("Resultant polynomial exponents:\n");
    for (i = 0; i < k; i++) {
        printf("%d ", res[i].expo);
    }
    printf("\n");
    printf("Resultant polynomial coefficients:\n");
    for (i = 0; i < k; i++) {
        printf("%d ", res[i].coeff);
    }
    
}
